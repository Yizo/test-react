import{r as n,_ as Nt,e as ct,f as G,g as me,h as pe,K as X,i as ce,k as Jt,l as Qt,m as nt,n as He,o as Zt,p as en,q as tn,w as jt,T as nn,t as an,v as Qe,x as rn,y as on,z as ln,A as ve,D as Rt,E as Fe,G as sn,H as cn,I as un,c as dn,u as vn,d as fn,F as se,j as d,R as gn,C as Me,a as ut,B as qe,S as wt,M as Ot,s as lt}from"./index-C6T66UYw.js";import{a as it,d as mn}from"./mock-DlhP0AJd.js";import{S as _t}from"./index-gul_2otK.js";import{D as Dt}from"./index-S__NQiOU.js";import{S as tt}from"./index-D3Omcvxu.js";import{T as hn}from"./index-QvxEnahu.js";import{R as bn}from"./PlusOutlined-DadAM9jt.js";import{F as Cn}from"./Table-rx-uFvO4.js";import{R as yn}from"./ArrowLeftOutlined-D6KmWXY3.js";import{R as Sn}from"./SaveOutlined-zyCnrguJ.js";import{R as pn}from"./HistoryOutlined-DNKUASDS.js";import{C as xn,T as kn}from"./index-MJq_1bjb.js";import"./Pagination-B3rYXXPg.js";function dt(e,t,o){return(e-t)/(o-t)}function ft(e,t,o,r){var l=dt(t,o,r),c={};switch(e){case"rtl":c.right="".concat(l*100,"%"),c.transform="translateX(50%)";break;case"btt":c.bottom="".concat(l*100,"%"),c.transform="translateY(50%)";break;case"ttb":c.top="".concat(l*100,"%"),c.transform="translateY(-50%)";break;default:c.left="".concat(l*100,"%"),c.transform="translateX(-50%)";break}return c}function ze(e,t){return Array.isArray(e)?e[t]:e}var We=n.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),En=n.createContext({}),$n=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Pt=n.forwardRef(function(e,t){var o=e.prefixCls,r=e.value,l=e.valueIndex,c=e.onStartMove,h=e.onDelete,u=e.style,k=e.render,f=e.dragging,g=e.draggingDelete,S=e.onOffsetChange,x=e.onChangeComplete,b=e.onFocus,m=e.onMouseEnter,s=Nt(e,$n),a=n.useContext(We),v=a.min,i=a.max,y=a.direction,R=a.disabled,w=a.keyboard,P=a.range,T=a.tabIndex,N=a.ariaLabelForHandle,p=a.ariaLabelledByForHandle,E=a.ariaRequired,$=a.ariaValueTextFormatterForHandle,M=a.styles,z=a.classNames,K="".concat(o,"-handle"),L=function(F){R||c(F,l)},J=function(F){b==null||b(F,l)},_=function(F){m(F,l)},xe=function(F){if(!R&&w){var j=null;switch(F.which||F.keyCode){case X.LEFT:j=y==="ltr"||y==="btt"?-1:1;break;case X.RIGHT:j=y==="ltr"||y==="btt"?1:-1;break;case X.UP:j=y!=="ttb"?1:-1;break;case X.DOWN:j=y!=="ttb"?-1:1;break;case X.HOME:j="min";break;case X.END:j="max";break;case X.PAGE_UP:j=2;break;case X.PAGE_DOWN:j=-2;break;case X.BACKSPACE:case X.DELETE:h(l);break}j!==null&&(F.preventDefault(),S(j,l))}},ne=function(F){switch(F.which||F.keyCode){case X.LEFT:case X.RIGHT:case X.UP:case X.DOWN:case X.HOME:case X.END:case X.PAGE_UP:case X.PAGE_DOWN:x==null||x();break}},he=ft(y,r,v,i),fe={};if(l!==null){var ae;fe={tabIndex:R?null:ze(T,l),role:"slider","aria-valuemin":v,"aria-valuemax":i,"aria-valuenow":r,"aria-disabled":R,"aria-label":ze(N,l),"aria-labelledby":ze(p,l),"aria-required":ze(E,l),"aria-valuetext":(ae=ze($,l))===null||ae===void 0?void 0:ae(r),"aria-orientation":y==="ltr"||y==="rtl"?"horizontal":"vertical",onMouseDown:L,onTouchStart:L,onFocus:J,onMouseEnter:_,onKeyDown:xe,onKeyUp:ne}}var ke=n.createElement("div",ct({ref:t,className:me(K,pe(pe(pe({},"".concat(K,"-").concat(l+1),l!==null&&P),"".concat(K,"-dragging"),f),"".concat(K,"-dragging-delete"),g),z.handle),style:G(G(G({},he),u),M.handle)},fe,s));return k&&(ke=k(ke,{index:l,prefixCls:o,value:r,dragging:f,draggingDelete:g})),ke}),Mn=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],jn=n.forwardRef(function(e,t){var o=e.prefixCls,r=e.style,l=e.onStartMove,c=e.onOffsetChange,h=e.values,u=e.handleRender,k=e.activeHandleRender,f=e.draggingIndex,g=e.draggingDelete,S=e.onFocus,x=Nt(e,Mn),b=n.useRef({}),m=n.useState(!1),s=ce(m,2),a=s[0],v=s[1],i=n.useState(-1),y=ce(i,2),R=y[0],w=y[1],P=function($){w($),v(!0)},T=function($,M){P(M),S==null||S($)},N=function($,M){P(M)};n.useImperativeHandle(t,function(){return{focus:function($){var M;(M=b.current[$])===null||M===void 0||M.focus()},hideHelp:function(){Jt.flushSync(function(){v(!1)})}}});var p=G({prefixCls:o,onStartMove:l,onOffsetChange:c,render:u,onFocus:T,onMouseEnter:N},x);return n.createElement(n.Fragment,null,h.map(function(E,$){var M=f===$;return n.createElement(Pt,ct({ref:function(K){K?b.current[$]=K:delete b.current[$]},dragging:M,draggingDelete:M&&g,style:ze(r,$),key:$,value:E,valueIndex:$},p))}),k&&a&&n.createElement(Pt,ct({key:"a11y"},p,{value:h[R],valueIndex:null,dragging:f!==-1,draggingDelete:g,render:k,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),Rn=function(t){var o=t.prefixCls,r=t.style,l=t.children,c=t.value,h=t.onClick,u=n.useContext(We),k=u.min,f=u.max,g=u.direction,S=u.includedStart,x=u.includedEnd,b=u.included,m="".concat(o,"-text"),s=ft(g,c,k,f);return n.createElement("span",{className:me(m,pe({},"".concat(m,"-active"),b&&S<=c&&c<=x)),style:G(G({},s),r),onMouseDown:function(v){v.stopPropagation()},onClick:function(){h(c)}},l)},wn=function(t){var o=t.prefixCls,r=t.marks,l=t.onClick,c="".concat(o,"-mark");return r.length?n.createElement("div",{className:c},r.map(function(h){var u=h.value,k=h.style,f=h.label;return n.createElement(Rn,{key:u,prefixCls:c,style:k,value:u,onClick:l},f)})):null},On=function(t){var o=t.prefixCls,r=t.value,l=t.style,c=t.activeStyle,h=n.useContext(We),u=h.min,k=h.max,f=h.direction,g=h.included,S=h.includedStart,x=h.includedEnd,b="".concat(o,"-dot"),m=g&&S<=r&&r<=x,s=G(G({},ft(f,r,u,k)),typeof l=="function"?l(r):l);return m&&(s=G(G({},s),typeof c=="function"?c(r):c)),n.createElement("span",{className:me(b,pe({},"".concat(b,"-active"),m)),style:s})},Dn=function(t){var o=t.prefixCls,r=t.marks,l=t.dots,c=t.style,h=t.activeStyle,u=n.useContext(We),k=u.min,f=u.max,g=u.step,S=n.useMemo(function(){var x=new Set;if(r.forEach(function(m){x.add(m.value)}),l&&g!==null)for(var b=k;b<=f;)x.add(b),b+=g;return Array.from(x)},[k,f,g,l,r]);return n.createElement("div",{className:"".concat(o,"-step")},S.map(function(x){return n.createElement(On,{prefixCls:o,key:x,value:x,style:c,activeStyle:h})}))},Ft=function(t){var o=t.prefixCls,r=t.style,l=t.start,c=t.end,h=t.index,u=t.onStartMove,k=t.replaceCls,f=n.useContext(We),g=f.direction,S=f.min,x=f.max,b=f.disabled,m=f.range,s=f.classNames,a="".concat(o,"-track"),v=dt(l,S,x),i=dt(c,S,x),y=function(T){!b&&u&&u(T,-1)},R={};switch(g){case"rtl":R.right="".concat(v*100,"%"),R.width="".concat(i*100-v*100,"%");break;case"btt":R.bottom="".concat(v*100,"%"),R.height="".concat(i*100-v*100,"%");break;case"ttb":R.top="".concat(v*100,"%"),R.height="".concat(i*100-v*100,"%");break;default:R.left="".concat(v*100,"%"),R.width="".concat(i*100-v*100,"%")}var w=k||me(a,pe(pe({},"".concat(a,"-").concat(h+1),h!==null&&m),"".concat(o,"-track-draggable"),u),s.track);return n.createElement("div",{className:w,style:G(G({},R),r),onMouseDown:y,onTouchStart:y})},Pn=function(t){var o=t.prefixCls,r=t.style,l=t.values,c=t.startPoint,h=t.onStartMove,u=n.useContext(We),k=u.included,f=u.range,g=u.min,S=u.styles,x=u.classNames,b=n.useMemo(function(){if(!f){if(l.length===0)return[];var s=c??g,a=l[0];return[{start:Math.min(s,a),end:Math.max(s,a)}]}for(var v=[],i=0;i<l.length-1;i+=1)v.push({start:l[i],end:l[i+1]});return v},[l,f,c,g]);if(!k)return null;var m=b!=null&&b.length&&(x.tracks||S.tracks)?n.createElement(Ft,{index:null,prefixCls:o,start:b[0].start,end:b[b.length-1].end,replaceCls:me(x.tracks,"".concat(o,"-tracks")),style:S.tracks}):null;return n.createElement(n.Fragment,null,m,b.map(function(s,a){var v=s.start,i=s.end;return n.createElement(Ft,{index:a,prefixCls:o,style:G(G({},ze(r,a)),S.track),start:v,end:i,key:a,onStartMove:h})}))},Fn=130;function Ht(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function Hn(e,t,o,r,l,c,h,u,k,f,g){var S=n.useState(null),x=ce(S,2),b=x[0],m=x[1],s=n.useState(-1),a=ce(s,2),v=a[0],i=a[1],y=n.useState(!1),R=ce(y,2),w=R[0],P=R[1],T=n.useState(o),N=ce(T,2),p=N[0],E=N[1],$=n.useState(o),M=ce($,2),z=M[0],K=M[1],L=n.useRef(null),J=n.useRef(null),_=n.useRef(null),xe=n.useContext(En),ne=xe.onDragStart,he=xe.onDragChange;Qt(function(){v===-1&&E(o)},[o,v]),n.useEffect(function(){return function(){document.removeEventListener("mousemove",L.current),document.removeEventListener("mouseup",J.current),_.current&&(_.current.removeEventListener("touchmove",L.current),_.current.removeEventListener("touchend",J.current))}},[]);var fe=function(j,A,q){A!==void 0&&m(A),E(j);var Z=j;q&&(Z=j.filter(function(I,U){return U!==v})),h(Z),he&&he({rawValues:j,deleteIndex:q?v:-1,draggingIndex:v,draggingValue:A})},ae=nt(function(F,j,A){if(F===-1){var q=z[0],Z=z[z.length-1],I=r-q,U=l-Z,re=j*(l-r);re=Math.max(re,I),re=Math.min(re,U);var ue=c(q+re);re=ue-q;var be=z.map(function(ge){return ge+re});fe(be)}else{var Ce=(l-r)*j,ye=He(p);ye[F]=z[F];var Ee=k(ye,Ce,F,"dist");fe(Ee.values,Ee.value,A)}}),ke=function(j,A,q){j.stopPropagation();var Z=q||o,I=Z[A];i(A),m(I),K(Z),E(Z),P(!1);var U=Ht(j),re=U.pageX,ue=U.pageY,be=!1;ne&&ne({rawValues:Z,draggingIndex:A,draggingValue:I});var Ce=function(ge){ge.preventDefault();var oe=Ht(ge),Te=oe.pageX,Be=oe.pageY,je=Te-re,de=Be-ue,H=e.current.getBoundingClientRect(),V=H.width,$e=H.height,Se,le;switch(t){case"btt":Se=-de/$e,le=je;break;case"ttb":Se=de/$e,le=je;break;case"rtl":Se=-je/V,le=de;break;default:Se=je/V,le=de}be=f?Math.abs(le)>Fn&&g<p.length:!1,P(be),ae(A,Se,be)},ye=function Ee(ge){ge.preventDefault(),document.removeEventListener("mouseup",Ee),document.removeEventListener("mousemove",Ce),_.current&&(_.current.removeEventListener("touchmove",L.current),_.current.removeEventListener("touchend",J.current)),L.current=null,J.current=null,_.current=null,u(be),i(-1),P(!1)};document.addEventListener("mouseup",ye),document.addEventListener("mousemove",Ce),j.currentTarget.addEventListener("touchend",ye),j.currentTarget.addEventListener("touchmove",Ce),L.current=Ce,J.current=ye,_.current=j.currentTarget},Q=n.useMemo(function(){var F=He(o).sort(function(I,U){return I-U}),j=He(p).sort(function(I,U){return I-U}),A={};j.forEach(function(I){A[I]=(A[I]||0)+1}),F.forEach(function(I){A[I]=(A[I]||0)-1});var q=f?1:0,Z=Object.values(A).reduce(function(I,U){return I+Math.abs(U)},0);return Z<=q?p:o},[o,p,f]);return[v,b,w,Q,ke]}function Tn(e,t,o,r,l,c){var h=n.useCallback(function(b){return Math.max(e,Math.min(t,b))},[e,t]),u=n.useCallback(function(b){if(o!==null){var m=e+Math.round((h(b)-e)/o)*o,s=function(y){return(String(y).split(".")[1]||"").length},a=Math.max(s(o),s(t),s(e)),v=Number(m.toFixed(a));return e<=v&&v<=t?v:null}return null},[o,e,t,h]),k=n.useCallback(function(b){var m=h(b),s=r.map(function(i){return i.value});o!==null&&s.push(u(b)),s.push(e,t);var a=s[0],v=t-e;return s.forEach(function(i){var y=Math.abs(m-i);y<=v&&(a=i,v=y)}),a},[e,t,r,o,h,u]),f=function b(m,s,a){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof s=="number"){var i,y=m[a],R=y+s,w=[];r.forEach(function(E){w.push(E.value)}),w.push(e,t),w.push(u(y));var P=s>0?1:-1;v==="unit"?w.push(u(y+P*o)):w.push(u(R)),w=w.filter(function(E){return E!==null}).filter(function(E){return s<0?E<=y:E>=y}),v==="unit"&&(w=w.filter(function(E){return E!==y}));var T=v==="unit"?y:R;i=w[0];var N=Math.abs(i-T);if(w.forEach(function(E){var $=Math.abs(E-T);$<N&&(i=E,N=$)}),i===void 0)return s<0?e:t;if(v==="dist")return i;if(Math.abs(s)>1){var p=He(m);return p[a]=i,b(p,s-P,a,v)}return i}else{if(s==="min")return e;if(s==="max")return t}},g=function(m,s,a){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",i=m[a],y=f(m,s,a,v);return{value:y,changed:y!==i}},S=function(m){return c===null&&m===0||typeof c=="number"&&m<c},x=function(m,s,a){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",i=m.map(k),y=i[a],R=f(i,s,a,v);if(i[a]=R,l===!1){var w=c||0;a>0&&i[a-1]!==y&&(i[a]=Math.max(i[a],i[a-1]+w)),a<i.length-1&&i[a+1]!==y&&(i[a]=Math.min(i[a],i[a+1]-w))}else if(typeof c=="number"||c===null){for(var P=a+1;P<i.length;P+=1)for(var T=!0;S(i[P]-i[P-1])&&T;){var N=g(i,1,P);i[P]=N.value,T=N.changed}for(var p=a;p>0;p-=1)for(var E=!0;S(i[p]-i[p-1])&&E;){var $=g(i,-1,p-1);i[p-1]=$.value,E=$.changed}for(var M=i.length-1;M>0;M-=1)for(var z=!0;S(i[M]-i[M-1])&&z;){var K=g(i,-1,M-1);i[M-1]=K.value,z=K.changed}for(var L=0;L<i.length-1;L+=1)for(var J=!0;S(i[L+1]-i[L])&&J;){var _=g(i,1,L+1);i[L+1]=_.value,J=_.changed}}return{value:i[a],values:i}};return[k,x]}function Bn(e){return n.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var t=e.editable,o=e.draggableTrack,r=e.minCount,l=e.maxCount;return[!0,t,!t&&o,r||0,l]},[e])}var Nn=n.forwardRef(function(e,t){var o=e.prefixCls,r=o===void 0?"rc-slider":o,l=e.className,c=e.style,h=e.classNames,u=e.styles,k=e.id,f=e.disabled,g=f===void 0?!1:f,S=e.keyboard,x=S===void 0?!0:S,b=e.autoFocus,m=e.onFocus,s=e.onBlur,a=e.min,v=a===void 0?0:a,i=e.max,y=i===void 0?100:i,R=e.step,w=R===void 0?1:R,P=e.value,T=e.defaultValue,N=e.range,p=e.count,E=e.onChange,$=e.onBeforeChange,M=e.onAfterChange,z=e.onChangeComplete,K=e.allowCross,L=K===void 0?!0:K,J=e.pushable,_=J===void 0?!1:J,xe=e.reverse,ne=e.vertical,he=e.included,fe=he===void 0?!0:he,ae=e.startPoint,ke=e.trackStyle,Q=e.handleStyle,F=e.railStyle,j=e.dotStyle,A=e.activeDotStyle,q=e.marks,Z=e.dots,I=e.handleRender,U=e.activeHandleRender,re=e.track,ue=e.tabIndex,be=ue===void 0?0:ue,Ce=e.ariaLabelForHandle,ye=e.ariaLabelledByForHandle,Ee=e.ariaRequired,ge=e.ariaValueTextFormatterForHandle,oe=n.useRef(null),Te=n.useRef(null),Be=n.useMemo(function(){return ne?xe?"ttb":"btt":xe?"rtl":"ltr"},[xe,ne]),je=Bn(N),de=ce(je,5),H=de[0],V=de[1],$e=de[2],Se=de[3],le=de[4],ie=n.useMemo(function(){return isFinite(v)?v:0},[v]),Re=n.useMemo(function(){return isFinite(y)?y:100},[y]),we=n.useMemo(function(){return w!==null&&w<=0?1:w},[w]),Y=n.useMemo(function(){return typeof _=="boolean"?_?we:!1:_>=0?_:!1},[_,we]),ee=n.useMemo(function(){return Object.keys(q||{}).map(function(O){var C=q[O],D={value:Number(O)};return C&&Zt(C)==="object"&&!n.isValidElement(C)&&("label"in C||"style"in C)?(D.style=C.style,D.label=C.label):D.label=C,D}).filter(function(O){var C=O.label;return C||typeof C=="number"}).sort(function(O,C){return O.value-C.value})},[q]),at=Tn(ie,Re,we,ee,L,Y),Ue=ce(at,2),Ne=Ue[0],Ve=Ue[1],Ye=en(T,{value:P}),gt=ce(Ye,2),_e=gt[0],Lt=gt[1],te=n.useMemo(function(){var O=_e==null?[]:Array.isArray(_e)?_e:[_e],C=ce(O,1),D=C[0],B=D===void 0?ie:D,W=_e===null?[]:[B];if(H){if(W=He(O),p||_e===void 0){var Ie=p>=0?p+1:2;for(W=W.slice(0,Ie);W.length<Ie;){var Oe;W.push((Oe=W[W.length-1])!==null&&Oe!==void 0?Oe:ie)}}W.sort(function(De,Pe){return De-Pe})}return W.forEach(function(De,Pe){W[Pe]=Ne(De)}),W},[_e,H,ie,p,Ne]),Xe=function(C){return H?C:C[0]},Ze=nt(function(O){var C=He(O).sort(function(D,B){return D-B});E&&!tn(C,te,!0)&&E(Xe(C)),Lt(C)}),mt=nt(function(O){O&&oe.current.hideHelp();var C=Xe(te);M==null||M(C),jt(!M,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),z==null||z(C)}),At=function(C){if(!(g||!V||te.length<=Se)){var D=He(te);D.splice(C,1),$==null||$(Xe(D)),Ze(D);var B=Math.max(0,C-1);oe.current.hideHelp(),oe.current.focus(B)}},qt=Hn(Te,Be,te,ie,Re,Ne,Ze,mt,Ve,V,Se),Ge=ce(qt,5),ht=Ge[0],zt=Ge[1],Wt=Ge[2],rt=Ge[3],bt=Ge[4],Ct=function(C,D){if(!g){var B=He(te),W=0,Ie=0,Oe=Re-ie;te.forEach(function(Le,et){var Mt=Math.abs(C-Le);Mt<=Oe&&(Oe=Mt,W=et),Le<C&&(Ie=et)});var De=W;V&&Oe!==0&&(!le||te.length<le)?(B.splice(Ie+1,0,C),De=Ie+1):B[W]=C,H&&!te.length&&p===void 0&&B.push(C);var Pe=Xe(B);if($==null||$(Pe),Ze(B),D){var Ae,Ke;(Ae=document.activeElement)===null||Ae===void 0||(Ke=Ae.blur)===null||Ke===void 0||Ke.call(Ae),oe.current.focus(De),bt(D,De,B)}else M==null||M(Pe),jt(!M,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),z==null||z(Pe)}},Xt=function(C){C.preventDefault();var D=Te.current.getBoundingClientRect(),B=D.width,W=D.height,Ie=D.left,Oe=D.top,De=D.bottom,Pe=D.right,Ae=C.clientX,Ke=C.clientY,Le;switch(Be){case"btt":Le=(De-Ke)/W;break;case"ttb":Le=(Ke-Oe)/W;break;case"rtl":Le=(Pe-Ae)/B;break;default:Le=(Ae-Ie)/B}var et=ie+Le*(Re-ie);Ct(Ne(et),C)},Kt=n.useState(null),yt=ce(Kt,2),ot=yt[0],St=yt[1],Ut=function(C,D){if(!g){var B=Ve(te,C,D);$==null||$(Xe(te)),Ze(B.values),St(B.value)}};n.useEffect(function(){if(ot!==null){var O=te.indexOf(ot);O>=0&&oe.current.focus(O)}St(null)},[ot]);var Vt=n.useMemo(function(){return $e&&we===null?!1:$e},[$e,we]),pt=nt(function(O,C){bt(O,C),$==null||$(Xe(te))}),xt=ht!==-1;n.useEffect(function(){if(!xt){var O=te.lastIndexOf(zt);oe.current.focus(O)}},[xt]);var Je=n.useMemo(function(){return He(rt).sort(function(O,C){return O-C})},[rt]),Yt=n.useMemo(function(){return H?[Je[0],Je[Je.length-1]]:[ie,Je[0]]},[Je,H,ie]),kt=ce(Yt,2),Et=kt[0],$t=kt[1];n.useImperativeHandle(t,function(){return{focus:function(){oe.current.focus(0)},blur:function(){var C,D=document,B=D.activeElement;(C=Te.current)!==null&&C!==void 0&&C.contains(B)&&(B==null||B.blur())}}}),n.useEffect(function(){b&&oe.current.focus(0)},[]);var Gt=n.useMemo(function(){return{min:ie,max:Re,direction:Be,disabled:g,keyboard:x,step:we,included:fe,includedStart:Et,includedEnd:$t,range:H,tabIndex:be,ariaLabelForHandle:Ce,ariaLabelledByForHandle:ye,ariaRequired:Ee,ariaValueTextFormatterForHandle:ge,styles:u||{},classNames:h||{}}},[ie,Re,Be,g,x,we,fe,Et,$t,H,be,Ce,ye,Ee,ge,u,h]);return n.createElement(We.Provider,{value:Gt},n.createElement("div",{ref:Te,className:me(r,l,pe(pe(pe(pe({},"".concat(r,"-disabled"),g),"".concat(r,"-vertical"),ne),"".concat(r,"-horizontal"),!ne),"".concat(r,"-with-marks"),ee.length)),style:c,onMouseDown:Xt,id:k},n.createElement("div",{className:me("".concat(r,"-rail"),h==null?void 0:h.rail),style:G(G({},F),u==null?void 0:u.rail)}),re!==!1&&n.createElement(Pn,{prefixCls:r,style:ke,values:te,startPoint:ae,onStartMove:Vt?pt:void 0}),n.createElement(Dn,{prefixCls:r,marks:ee,dots:Z,style:j,activeStyle:A}),n.createElement(jn,{ref:oe,prefixCls:r,style:Q,values:rt,draggingIndex:ht,draggingDelete:Wt,onStartMove:pt,onOffsetChange:Ut,onFocus:m,onBlur:s,handleRender:I,activeHandleRender:U,onChangeComplete:mt,onDelete:V?At:void 0}),n.createElement(wn,{prefixCls:r,marks:ee,onClick:Ct})))});const _n=n.createContext({}),Tt=n.forwardRef((e,t)=>{const{open:o,draggingDelete:r,value:l}=e,c=n.useRef(null),h=o&&!r,u=n.useRef(null);function k(){Qe.cancel(u.current),u.current=null}function f(){u.current=Qe(()=>{var g;(g=c.current)===null||g===void 0||g.forceAlign(),u.current=null})}return n.useEffect(()=>(h?f():k(),k),[h,e.title,l]),n.createElement(nn,Object.assign({ref:an(c,t)},e,{open:h}))}),In=e=>{const{componentCls:t,antCls:o,controlSize:r,dotSize:l,marginFull:c,marginPart:h,colorFillContentHover:u,handleColorDisabled:k,calc:f,handleSize:g,handleSizeHover:S,handleActiveColor:x,handleActiveOutlineColor:b,handleLineWidth:m,handleLineWidthHover:s,motionDurationMid:a}=e;return{[t]:Object.assign(Object.assign({},ln(e)),{position:"relative",height:r,margin:`${ve(h)} ${ve(c)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${ve(c)} ${ve(h)}`},[`${t}-rail`]:{position:"absolute",backgroundColor:e.railBg,borderRadius:e.borderRadiusXS,transition:`background-color ${a}`},[`${t}-track,${t}-tracks`]:{position:"absolute",transition:`background-color ${a}`},[`${t}-track`]:{backgroundColor:e.trackBg,borderRadius:e.borderRadiusXS},[`${t}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${t}-rail`]:{backgroundColor:e.railHoverBg},[`${t}-track`]:{backgroundColor:e.trackHoverBg},[`${t}-dot`]:{borderColor:u},[`${t}-handle::after`]:{boxShadow:`0 0 0 ${ve(m)} ${e.colorPrimaryBorderHover}`},[`${t}-dot-active`]:{borderColor:e.dotActiveBorderColor}},[`${t}-handle`]:{position:"absolute",width:g,height:g,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:f(m).mul(-1).equal(),insetBlockStart:f(m).mul(-1).equal(),width:f(g).add(f(m).mul(2)).equal(),height:f(g).add(f(m).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:g,height:g,backgroundColor:e.colorBgElevated,boxShadow:`0 0 0 ${ve(m)} ${e.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${a},
            inset-block-start ${a},
            width ${a},
            height ${a},
            box-shadow ${a},
            outline ${a}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:f(S).sub(g).div(2).add(s).mul(-1).equal(),insetBlockStart:f(S).sub(g).div(2).add(s).mul(-1).equal(),width:f(S).add(f(s).mul(2)).equal(),height:f(S).add(f(s).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${ve(s)} ${x}`,outline:`6px solid ${b}`,width:S,height:S,insetInlineStart:e.calc(g).sub(S).div(2).equal(),insetBlockStart:e.calc(g).sub(S).div(2).equal()}}},[`&-lock ${t}-handle`]:{"&::before, &::after":{transition:"none"}},[`${t}-mark`]:{position:"absolute",fontSize:e.fontSize},[`${t}-mark-text`]:{position:"absolute",display:"inline-block",color:e.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:e.colorText}},[`${t}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${t}-dot`]:{position:"absolute",width:l,height:l,backgroundColor:e.colorBgElevated,border:`${ve(m)} solid ${e.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:e.dotActiveBorderColor}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-rail`]:{backgroundColor:`${e.railBg} !important`},[`${t}-track`]:{backgroundColor:`${e.trackBgDisabled} !important`},[`
          ${t}-dot
        `]:{backgroundColor:e.colorBgElevated,borderColor:e.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${t}-handle::after`]:{backgroundColor:e.colorBgElevated,cursor:"not-allowed",width:g,height:g,boxShadow:`0 0 0 ${ve(m)} ${k}`,insetInlineStart:0,insetBlockStart:0},[`
          ${t}-mark-text,
          ${t}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${o}-tooltip-inner`]:{minWidth:"unset"}})}},It=(e,t)=>{const{componentCls:o,railSize:r,handleSize:l,dotSize:c,marginFull:h,calc:u}=e,k=t?"paddingBlock":"paddingInline",f=t?"width":"height",g=t?"height":"width",S=t?"insetBlockStart":"insetInlineStart",x=t?"top":"insetInlineStart",b=u(r).mul(3).sub(l).div(2).equal(),m=u(l).sub(r).div(2).equal(),s=t?{borderWidth:`${ve(m)} 0`,transform:`translateY(${ve(u(m).mul(-1).equal())})`}:{borderWidth:`0 ${ve(m)}`,transform:`translateX(${ve(e.calc(m).mul(-1).equal())})`};return{[k]:r,[g]:u(r).mul(3).equal(),[`${o}-rail`]:{[f]:"100%",[g]:r},[`${o}-track,${o}-tracks`]:{[g]:r},[`${o}-track-draggable`]:Object.assign({},s),[`${o}-handle`]:{[S]:b},[`${o}-mark`]:{insetInlineStart:0,top:0,[x]:u(r).mul(3).add(t?0:h).equal(),[f]:"100%"},[`${o}-step`]:{insetInlineStart:0,top:0,[x]:r,[f]:"100%",[g]:r},[`${o}-dot`]:{position:"absolute",[S]:u(r).sub(c).div(2).equal()}}},Ln=e=>{const{componentCls:t,marginPartWithMark:o}=e;return{[`${t}-horizontal`]:Object.assign(Object.assign({},It(e,!0)),{[`&${t}-with-marks`]:{marginBottom:o}})}},An=e=>{const{componentCls:t}=e;return{[`${t}-vertical`]:Object.assign(Object.assign({},It(e,!1)),{height:"100%"})}},qn=e=>{const o=e.controlHeightLG/4,r=e.controlHeightSM/2,l=e.lineWidth+1,c=e.lineWidth+1*1.5,h=e.colorPrimary,u=new Rt(h).setA(.2).toRgbString();return{controlSize:o,railSize:4,handleSize:o,handleSizeHover:r,dotSize:8,handleLineWidth:l,handleLineWidthHover:c,railBg:e.colorFillTertiary,railHoverBg:e.colorFillSecondary,trackBg:e.colorPrimaryBorder,trackHoverBg:e.colorPrimaryBorderHover,handleColor:e.colorPrimaryBorder,handleActiveColor:h,handleActiveOutlineColor:u,handleColorDisabled:new Rt(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexString(),dotBorderColor:e.colorBorderSecondary,dotActiveBorderColor:e.colorPrimaryBorder,trackBgDisabled:e.colorBgContainerDisabled}},zn=rn("Slider",e=>{const t=on(e,{marginPart:e.calc(e.controlHeight).sub(e.controlSize).div(2).equal(),marginFull:e.calc(e.controlSize).div(2).equal(),marginPartWithMark:e.calc(e.controlHeightLG).sub(e.controlSize).equal()});return[In(t),Ln(t),An(t)]},qn);function st(){const[e,t]=n.useState(!1),o=n.useRef(null),r=()=>{Qe.cancel(o.current)},l=c=>{r(),c?t(c):o.current=Qe(()=>{t(c)})};return n.useEffect(()=>r,[]),[e,l]}var Wn=function(e,t){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(o[r[l]]=e[r[l]]);return o};function Xn(e,t){return e||e===null?e:t||t===null?t:o=>typeof o=="number"?o.toString():""}const Kn=Fe.forwardRef((e,t)=>{const{prefixCls:o,range:r,className:l,rootClassName:c,style:h,disabled:u,tooltipPrefixCls:k,tipFormatter:f,tooltipVisible:g,getTooltipPopupContainer:S,tooltipPlacement:x,tooltip:b={},onChangeComplete:m,classNames:s,styles:a}=e,v=Wn(e,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete","classNames","styles"]),{vertical:i}=e,{getPrefixCls:y,direction:R,className:w,style:P,classNames:T,styles:N,getPopupContainer:p}=sn("slider"),E=Fe.useContext(cn),$=u??E,{handleRender:M,direction:z}=Fe.useContext(_n),L=(z||R)==="rtl",[J,_]=st(),[xe,ne]=st(),he=Object.assign({},b),{open:fe,placement:ae,getPopupContainer:ke,prefixCls:Q,formatter:F}=he,j=fe??g,A=(J||xe)&&j!==!1,q=Xn(F,f),[Z,I]=st(),U=H=>{m==null||m(H),I(!1)},re=(H,V)=>H||(V?L?"left":"right":"top"),ue=y("slider",o),[be,Ce,ye]=zn(ue),Ee=me(l,w,T.root,s==null?void 0:s.root,c,{[`${ue}-rtl`]:L,[`${ue}-lock`]:Z},Ce,ye);L&&!v.vertical&&(v.reverse=!v.reverse),Fe.useEffect(()=>{const H=()=>{Qe(()=>{ne(!1)},1)};return document.addEventListener("mouseup",H),()=>{document.removeEventListener("mouseup",H)}},[]);const ge=r&&!j,oe=M||((H,V)=>{const{index:$e}=V,Se=H.props;function le(Y,ee,at){var Ue,Ne,Ve,Ye;at&&((Ne=(Ue=v)[Y])===null||Ne===void 0||Ne.call(Ue,ee)),(Ye=(Ve=Se)[Y])===null||Ye===void 0||Ye.call(Ve,ee)}const ie=Object.assign(Object.assign({},Se),{onMouseEnter:Y=>{_(!0),le("onMouseEnter",Y)},onMouseLeave:Y=>{_(!1),le("onMouseLeave",Y)},onMouseDown:Y=>{ne(!0),I(!0),le("onMouseDown",Y)},onFocus:Y=>{var ee;ne(!0),(ee=v.onFocus)===null||ee===void 0||ee.call(v,Y),le("onFocus",Y,!0)},onBlur:Y=>{var ee;ne(!1),(ee=v.onBlur)===null||ee===void 0||ee.call(v,Y),le("onBlur",Y,!0)}}),Re=Fe.cloneElement(H,ie),we=(!!j||A)&&q!==null;return ge?Re:Fe.createElement(Tt,Object.assign({},he,{prefixCls:y("tooltip",Q??k),title:q?q(V.value):"",value:V.value,open:we,placement:re(ae??x,i),key:$e,classNames:{root:`${ue}-tooltip`},getPopupContainer:ke||S||p}),Re)}),Te=ge?(H,V)=>{const $e=Fe.cloneElement(H,{style:Object.assign(Object.assign({},H.props.style),{visibility:"hidden"})});return Fe.createElement(Tt,Object.assign({},he,{prefixCls:y("tooltip",Q??k),title:q?q(V.value):"",open:q!==null&&A,placement:re(ae??x,i),key:"tooltip",classNames:{root:`${ue}-tooltip`},getPopupContainer:ke||S||p,draggingDelete:V.draggingDelete}),$e)}:void 0,Be=Object.assign(Object.assign(Object.assign(Object.assign({},N.root),P),a==null?void 0:a.root),h),je=Object.assign(Object.assign({},N.tracks),a==null?void 0:a.tracks),de=me(T.tracks,s==null?void 0:s.tracks);return be(Fe.createElement(Nn,Object.assign({},v,{classNames:Object.assign({handle:me(T.handle,s==null?void 0:s.handle),rail:me(T.rail,s==null?void 0:s.rail),track:me(T.track,s==null?void 0:s.track)},de?{tracks:de}:{}),styles:Object.assign({handle:Object.assign(Object.assign({},N.handle),a==null?void 0:a.handle),rail:Object.assign(Object.assign({},N.rail),a==null?void 0:a.rail),track:Object.assign(Object.assign({},N.track),a==null?void 0:a.track)},Object.keys(je).length?{tracks:je}:{}),step:v.step,range:r,className:Ee,style:Be,disabled:$,ref:t,prefixCls:ue,handleRender:oe,activeHandleRender:Te,onChangeComplete:U})))});var Un={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"};function vt(){return vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},vt.apply(this,arguments)}const Vn=(e,t)=>n.createElement(un,vt({},e,{ref:t,icon:Un})),Yn=n.forwardRef(Vn),{Option:Bt}=_t,{TextArea:Gn}=ut,ua=()=>{const{id:e}=dn(),t=vn(),[o]=fn(),l=o.get("mode")==="edit"||e==="new",[c]=se.useForm(),[,h]=n.useState(null),[u,k]=n.useState(!1),[f,g]=n.useState([]),[S,x]=n.useState(!1),[b,m]=n.useState(null),[s]=se.useForm();n.useEffect(()=>{e&&e!=="new"?(h(it),g(it.customEvents),c.setFieldsValue(it)):e==="new"&&c.setFieldsValue(mn)},[e,c]);const a=()=>{c.validateFields().then(p=>{k(!0),setTimeout(()=>{lt.success("保存成功"),k(!1)},1e3)})},v=()=>{c.validateFields().then(p=>{Ot.confirm({title:"发布配置",content:"确定要发布这个配置吗？发布后将立即生效。",onOk:()=>{k(!0),setTimeout(()=>{lt.success("发布成功"),k(!1),t("/configs")},1e3)}})})},i=()=>{m(null),s.resetFields(),x(!0)},y=p=>{m(p),s.setFieldsValue(p),x(!0)},R=p=>{g(f.filter(E=>E.id!==p))},w=()=>{s.validateFields().then(p=>{if(b)g(f.map(E=>E.id===b.id?{...E,...p}:E));else{const E={id:Date.now().toString(),...p,parameters:p.parameters||[]};g([...f,E])}x(!1),lt.success(b?"编辑成功":"添加成功")})},P=[{title:"事件名称",dataIndex:"eventName",key:"eventName"},{title:"描述",dataIndex:"description",key:"description"},{title:"参数数量",key:"paramCount",render:p=>p.parameters.length},{title:"操作",key:"action",render:p=>d.jsxs(wt,{children:[d.jsx(qe,{size:"small",onClick:()=>y(p),children:"编辑"}),d.jsx(qe,{size:"small",danger:!0,onClick:()=>R(p.id),children:"删除"})]})}],T={...c.getFieldsValue(),customEvents:f},N=[{key:"basic",label:"基础配置",children:d.jsxs(gn,{gutter:[16,16],children:[d.jsx(Me,{span:12,children:d.jsx(se.Item,{name:"appKey",label:"AppKey",rules:[{required:!0,message:"请选择应用"}],children:d.jsxs(_t,{placeholder:"请选择应用",disabled:!l,children:[d.jsx(Bt,{value:"app_web_001",children:"官网前端 (app_web_001)"}),d.jsx(Bt,{value:"app_mobile_002",children:"移动端H5 (app_mobile_002)"})]})})}),d.jsx(Me,{span:12,children:d.jsx(se.Item,{name:"version",label:"版本号",children:d.jsx(ut,{placeholder:"系统自动生成",disabled:!0})})}),d.jsx(Me,{span:24,children:d.jsx(Dt,{children:"监控项开关"})}),d.jsx(Me,{span:6,children:d.jsx(se.Item,{name:"errorMonitor",label:"错误监控",valuePropName:"checked",children:d.jsx(tt,{disabled:!l})})}),d.jsx(Me,{span:6,children:d.jsx(se.Item,{name:"performanceMonitor",label:"性能监控",valuePropName:"checked",children:d.jsx(tt,{disabled:!l})})}),d.jsx(Me,{span:6,children:d.jsx(se.Item,{name:"behaviorMonitor",label:"行为监控",valuePropName:"checked",children:d.jsx(tt,{disabled:!l})})}),d.jsx(Me,{span:6,children:d.jsx(se.Item,{name:"networkMonitor",label:"网络监控",valuePropName:"checked",children:d.jsx(tt,{disabled:!l})})}),d.jsx(Me,{span:24,children:d.jsx(Dt,{children:"采集配置"})}),d.jsx(Me,{span:12,children:d.jsx(se.Item,{name:"samplingRate",label:"采样率 (%)",children:d.jsx(Kn,{min:1,max:100,disabled:!l,marks:{1:"1%",25:"25%",50:"50%",75:"75%",100:"100%"}})})}),d.jsx(Me,{span:12,children:d.jsx(se.Item,{name:"collectFrequency",label:"采集频率 (秒)",children:d.jsx(hn,{min:1,max:60,style:{width:"100%"},disabled:!l})})})]})},{key:"events",label:"自定义埋点",children:d.jsxs("div",{children:[l&&d.jsx("div",{style:{marginBottom:16},children:d.jsx(qe,{type:"primary",icon:d.jsx(bn,{}),onClick:i,children:"添加自定义事件"})}),d.jsx(Cn,{columns:P,dataSource:f,rowKey:"id",pagination:!1})]})},{key:"preview",label:"配置预览",children:d.jsx("div",{children:d.jsx("pre",{style:{background:"#f5f5f5",padding:16,borderRadius:4,fontSize:12,overflow:"auto"},children:JSON.stringify(T,null,2)})})}];return d.jsxs("div",{children:[d.jsx("div",{style:{marginBottom:16},children:d.jsxs(wt,{children:[d.jsx(qe,{icon:d.jsx(yn,{}),onClick:()=>t("/configs"),children:"返回列表"}),l&&d.jsxs(d.Fragment,{children:[d.jsx(qe,{icon:d.jsx(Sn,{}),onClick:a,loading:u,children:"保存"}),d.jsx(qe,{type:"primary",icon:d.jsx(Yn,{}),onClick:v,loading:u,children:"发布"})]}),d.jsx(qe,{icon:d.jsx(pn,{}),onClick:()=>t("/configs/history"),children:"配置历史"})]})}),d.jsx(xn,{title:e==="new"?"新建监控配置":"监控配置详情",children:d.jsx(se,{form:c,layout:"vertical",children:d.jsx(kn,{items:N})})}),d.jsx(Ot,{title:b?"编辑自定义事件":"添加自定义事件",open:S,onOk:w,onCancel:()=>x(!1),width:600,children:d.jsxs(se,{form:s,layout:"vertical",children:[d.jsx(se.Item,{name:"eventName",label:"事件名称",rules:[{required:!0,message:"请输入事件名称"}],children:d.jsx(ut,{placeholder:"如：button_click"})}),d.jsx(se.Item,{name:"description",label:"事件描述",rules:[{required:!0,message:"请输入事件描述"}],children:d.jsx(Gn,{rows:2,placeholder:"请描述该事件的用途"})})]})})]})};export{ua as default};
