import{F as a,r as h,j as e,b3 as w,R as g,C as r,B as x,M as v,a as u,s as c,S as b}from"./index-C6T66UYw.js";import{C as y}from"./index-MJq_1bjb.js";import{S as n}from"./index-gul_2otK.js";import{S as I}from"./index-D3Omcvxu.js";import{D as U}from"./index-S__NQiOU.js";import{R}from"./SaveOutlined-zyCnrguJ.js";import{F as T}from"./Table-rx-uFvO4.js";import{R as z}from"./PlusOutlined-DadAM9jt.js";import{R as A}from"./EditOutlined-9U3olPbu.js";import{R as E}from"./DeleteOutlined-CETmvlP7.js";import"./Pagination-B3rYXXPg.js";import"./EditOutlined-DdmGLkPL.js";import"./DeleteOutlined-DFutYCzo.js";const{Option:l}=n,X=()=>{const[N]=a.useForm(),[d]=a.useForm(),[S,p]=h.useState(!1),[i,j]=h.useState([{code:"zh-CN",name:"简体中文",englishName:"Simplified Chinese",flag:"🇨🇳",status:"active",progress:100,lastUpdate:"2024-01-15"},{code:"en-US",name:"English",englishName:"English (US)",flag:"🇺🇸",status:"active",progress:95,lastUpdate:"2024-01-10"},{code:"ja-JP",name:"日本語",englishName:"Japanese",flag:"🇯🇵",status:"inactive",progress:60,lastUpdate:"2024-01-05"}]),[Y,o]=h.useState(!1),[m,f]=h.useState(null),k=async s=>{p(!0);try{console.log("保存国际化配置:",s),await new Promise(t=>setTimeout(t,1e3)),c.success("国际化设置保存成功")}catch{c.error("保存失败")}finally{p(!1)}},C=()=>{f(null),d.resetFields(),o(!0)},D=s=>{f(s),d.setFieldsValue(s),o(!0)},M=s=>{v.confirm({title:"删除语言",content:"确定要删除这个语言包吗？删除后不可恢复。",onOk:()=>{j(i.filter(t=>t.code!==s)),c.success("语言包删除成功")}})},F=()=>{d.validateFields().then(s=>{if(m)j(i.map(t=>t.code===m.code?{...t,...s}:t)),c.success("语言包更新成功");else{const t={...s,progress:0,lastUpdate:new Date().toISOString().split("T")[0]};j([...i,t]),c.success("语言包添加成功")}o(!1)})},L=[{title:"语言",key:"language",render:s=>e.jsxs(b,{children:[e.jsx("span",{className:"text-xl",children:s.flag}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.englishName})]})]})},{title:"语言代码",dataIndex:"code",key:"code",render:s=>e.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:s})},{title:"翻译进度",dataIndex:"progress",key:"progress",render:s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${s}%`}})}),e.jsxs("span",{className:"text-sm",children:[s,"%"]})]})},{title:"状态",dataIndex:"status",key:"status",render:s=>e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${s==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s==="active"?"启用":"禁用"})},{title:"最后更新",dataIndex:"lastUpdate",key:"lastUpdate"},{title:"操作",key:"action",render:s=>e.jsxs(b,{children:[e.jsx(x,{size:"small",icon:e.jsx(A,{}),onClick:()=>D(s),children:"编辑"}),e.jsx(x,{size:"small",danger:!0,icon:e.jsx(E,{}),onClick:()=>M(s.code),disabled:s.code==="zh-CN",children:"删除"})]})}];return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[e.jsx(w,{}),"国际化设置"]}),e.jsx("p",{className:"text-gray-600",children:"管理多语言支持和本地化配置"})]}),e.jsxs(g,{gutter:[16,16],children:[e.jsx(r,{xs:24,lg:8,children:e.jsx(y,{title:"基础配置",children:e.jsxs(a,{form:N,layout:"vertical",onFinish:k,initialValues:{defaultLanguage:"zh-CN",enableI18n:!0,autoDetect:!0,fallbackLanguage:"en-US",dateFormat:"YYYY-MM-DD",timeFormat:"24h",timezone:"Asia/Shanghai"},children:[e.jsx(a.Item,{label:"默认语言",name:"defaultLanguage",rules:[{required:!0,message:"请选择默认语言"}],children:e.jsx(n,{children:i.map(s=>e.jsxs(l,{value:s.code,children:[s.flag," ",s.name]},s.code))})}),e.jsx(a.Item,{label:"启用国际化",name:"enableI18n",valuePropName:"checked",children:e.jsx(I,{})}),e.jsx(a.Item,{label:"自动检测用户语言",name:"autoDetect",valuePropName:"checked",children:e.jsx(I,{})}),e.jsx(a.Item,{label:"后备语言",name:"fallbackLanguage",children:e.jsx(n,{children:i.map(s=>e.jsxs(l,{value:s.code,children:[s.flag," ",s.name]},s.code))})}),e.jsx(U,{}),e.jsx(a.Item,{label:"日期格式",name:"dateFormat",children:e.jsxs(n,{children:[e.jsx(l,{value:"YYYY-MM-DD",children:"2024-01-15"}),e.jsx(l,{value:"MM/DD/YYYY",children:"01/15/2024"}),e.jsx(l,{value:"DD/MM/YYYY",children:"15/01/2024"}),e.jsx(l,{value:"YYYY年MM月DD日",children:"2024年01月15日"})]})}),e.jsx(a.Item,{label:"时间格式",name:"timeFormat",children:e.jsxs(n,{children:[e.jsx(l,{value:"24h",children:"24小时制"}),e.jsx(l,{value:"12h",children:"12小时制"})]})}),e.jsx(a.Item,{label:"时区",name:"timezone",children:e.jsxs(n,{children:[e.jsx(l,{value:"Asia/Shanghai",children:"Asia/Shanghai (UTC+8)"}),e.jsx(l,{value:"America/New_York",children:"America/New_York (UTC-5)"}),e.jsx(l,{value:"Europe/London",children:"Europe/London (UTC+0)"}),e.jsx(l,{value:"Asia/Tokyo",children:"Asia/Tokyo (UTC+9)"})]})}),e.jsx(a.Item,{children:e.jsx(x,{type:"primary",htmlType:"submit",loading:S,icon:e.jsx(R,{}),block:!0,children:"保存设置"})})]})})}),e.jsx(r,{xs:24,lg:16,children:e.jsx(y,{title:"语言管理",extra:e.jsx(x,{type:"primary",icon:e.jsx(z,{}),onClick:C,children:"添加语言"}),children:e.jsx(T,{columns:L,dataSource:i,rowKey:"code",pagination:!1})})})]}),e.jsx(v,{title:m?"编辑语言":"添加语言",open:Y,onOk:F,onCancel:()=>o(!1),width:600,children:e.jsxs(a,{form:d,layout:"vertical",children:[e.jsxs(g,{gutter:16,children:[e.jsx(r,{span:12,children:e.jsx(a.Item,{label:"语言代码",name:"code",rules:[{required:!0,message:"请输入语言代码"}],children:e.jsx(u,{placeholder:"如：zh-CN",disabled:!!m})})}),e.jsx(r,{span:12,children:e.jsx(a.Item,{label:"语言旗帜",name:"flag",rules:[{required:!0,message:"请输入表情符号"}],children:e.jsx(u,{placeholder:"如：🇨🇳"})})})]}),e.jsxs(g,{gutter:16,children:[e.jsx(r,{span:12,children:e.jsx(a.Item,{label:"本地名称",name:"name",rules:[{required:!0,message:"请输入本地名称"}],children:e.jsx(u,{placeholder:"如：简体中文"})})}),e.jsx(r,{span:12,children:e.jsx(a.Item,{label:"英文名称",name:"englishName",rules:[{required:!0,message:"请输入英文名称"}],children:e.jsx(u,{placeholder:"如：Simplified Chinese"})})})]}),e.jsx(a.Item,{label:"状态",name:"status",initialValue:"active",children:e.jsxs(n,{children:[e.jsx(l,{value:"active",children:"启用"}),e.jsx(l,{value:"inactive",children:"禁用"})]})})]})})]})};export{X as default};
