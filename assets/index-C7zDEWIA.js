import{u as N,d as K,r,j as e,S as n,a as O,B as a,s as P}from"./index-C6T66UYw.js";import{m as R}from"./mock-DlhP0AJd.js";import{A as F,C as _,a as m}from"./const-BtqL-t4z.js";import{D as B}from"./common-Oid95yXv.js";import{C as U}from"./index-MJq_1bjb.js";import{S as l}from"./index-gul_2otK.js";import{R as $}from"./PlusOutlined-DadAM9jt.js";import{R as h}from"./HistoryOutlined-DNKUASDS.js";import{F as b}from"./Table-rx-uFvO4.js";import{T as u}from"./index-BWL1JphO.js";import{R as z}from"./EyeOutlined-DnSgRtn5.js";import{R as E}from"./EditOutlined-9U3olPbu.js";import"./Pagination-B3rYXXPg.js";import"./EditOutlined-DdmGLkPL.js";const{Search:G}=O,{Option:x}=l,ae=()=>{const s=N(),[f]=K(),j=f.get("appKey"),[y]=r.useState(R),[S]=r.useState(!1),[o,c]=r.useState(""),[i,C]=r.useState(j||""),[d,g]=r.useState(""),I=[{title:"应用名称",dataIndex:"appName",key:"appName"},{title:"AppKey",dataIndex:"appKey",key:"appKey",render:t=>e.jsx("code",{children:t})},{title:"配置版本",dataIndex:"version",key:"version",render:t=>e.jsx(u,{color:"blue",children:t})},{title:"启用状态",dataIndex:"status",key:"status",render:t=>e.jsx(u,{color:m[t].color,children:m[t].text})},{title:"更新时间",dataIndex:"updateTime",key:"updateTime",width:180},{title:"更新人",dataIndex:"updateUser",key:"updateUser"},{title:"操作",key:"action",width:200,render:t=>e.jsxs(n,{size:"small",children:[e.jsx(a,{size:"small",icon:e.jsx(z,{}),onClick:()=>s(`/configs/${t.id}`),children:"详情"}),e.jsx(a,{size:"small",icon:e.jsx(E,{}),onClick:()=>s(`/configs/${t.id}?mode=edit`),children:"编辑"}),e.jsx(a,{size:"small",icon:e.jsx(h,{}),onClick:()=>s("/configs/history"),children:"历史"})]})}],v=()=>{s("/configs/new")},T=()=>{P.info("批量操作功能开发中")},p=y.filter(t=>{const k=t.appName.includes(o)||t.appKey.includes(o)||t.version.includes(o),A=!i||t.appKey===i,w=!d||t.status===d;return k&&A&&w});return e.jsxs(U,{children:[e.jsxs("div",{style:{marginBottom:16},children:[e.jsxs(n,{style:{marginBottom:16},children:[e.jsx(G,{placeholder:"搜索应用名称、AppKey、版本",allowClear:!0,style:{width:300},onSearch:c,onChange:t=>c(t.target.value)}),e.jsx(l,{placeholder:"选择应用",allowClear:!0,style:{width:200},onChange:C,value:i,children:F.map(t=>e.jsx(x,{value:t.value,children:t.label},t.value))}),e.jsx(l,{placeholder:"选择状态",allowClear:!0,style:{width:120},onChange:g,children:_.map(t=>e.jsx(x,{value:t.value,children:t.label},t.value))})]}),e.jsx("div",{children:e.jsxs(n,{children:[e.jsx(a,{type:"primary",icon:e.jsx($,{}),onClick:v,children:"新建配置"}),e.jsx(a,{icon:e.jsx(h,{}),onClick:()=>s("/configs/history"),children:"配置历史"}),e.jsx(a,{onClick:T,children:"批量操作"})]})})]}),e.jsx(b,{columns:I,dataSource:p,rowKey:"id",loading:S,pagination:{...B,total:p.length}})]})};export{ae as default};
